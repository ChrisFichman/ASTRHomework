from numpy import *
from matplotlib import *
from pylab import *
from math import *

# #open file and read out data.
# with open('correl.txt') as data:
# 	for line in data:
# 		x,y = line.rstrip().split(',')
# 		append(x_data, float(x))
# 		append(y_data, float(y))

x_data, y_data = loadtxt('correl.txt', delimiter = ',', unpack=True )
#Find x_avg
x_avg = float(fsum(x_data)/float(len(x_data)))
y_avg = float(fsum(y_data)/float(len(y_data)))

denom = float(len(x_data)*fsum(x_data*x_data)-fsum(x_data)**2)
B = float((fsum(x_data*x_data)*fsum(y_data) - fsum(x_data)*fsum(x_data*y_data))/denom)
A = float((len(y_data)*fsum(x_data*y_data)-fsum(x_data)*fsum(y_data))/denom)
r = B*x_data + A

#Graph a Scatter Plot and Label
scatter(x_data, y_data)
plot(r,x_data, "r")
title("Chris Fichman - Correllation of x vs. y")
xlabel("x")
ylabel("y")
#label(str(conf))
show()

